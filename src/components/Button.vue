<template>
	<div class="wrapper">
		<input class="button" type="button" v-model=value @click = "onClick()" disabled>
		<div class="uploader">
			<input id="fileid" type="file" accept="image/*" @change = "upload()" hidden/>
		</div>
	</div>
</template>

<script>
import {nextImage, uploadImage, predictImg, attack} from "../../public/js/intro.js"
import {updateImage} from './ImageContainer.vue'
export default {
  name: 'Button',
  props: {
    value: String,
	description: String
  },
  methods: {
    onClick(){
		if(this.description == "next-image"){nextImage()}
        else if(this.description == "predict") {
          let predict = document.getElementById('predict')
          let adv = document.getElementById('adv')
          predict.disabled = true
          adv.disabled = true
          predictImg()
          predict.disabled = false
          adv.disabled = false
        }
        else if(this.description == "adv"){
          let predict = document.getElementById('predict')
          let adv = document.getElementById('adv')
          predict.disabled = true
          adv.disabled = true
          attack()
          predict.disabled = false
          adv.disabled = false
        }
		else if(this.description == "upload-image"){document.getElementById('fileid').click()}
	},
	upload(){
		uploadImage()
		updateImage()
	}
  }
}
</script>

<style>
.button {
  background-color: #EBF2FC;
  color: #000000;
  font-family: "Raleway-italic";
  font-weight: bold;
  font-size: 20px;
  width: 12em;
  height: 2em;
  box-shadow: 1px 2px 4px #8c8c8c;
  border-radius: 0;
  border: 0;
}
.button:disabled {
  background: #999;
  color: #555;
}
</style>